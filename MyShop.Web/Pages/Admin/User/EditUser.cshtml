@page "{id}"
@using MyShop.DataLayer.Entities
@model MyShop.Web.Pages.Admin.User.EditUserModel


@{
    ViewData["Title"] = "ویرایش کاربر";
    Layout = "Shared/_AdminLayout";
    List<Role> Roles = ViewData["Roles"] as List<Role>;
}

<div class="x_panel">
    <div class="x_title">
        <h2>
            اطلاعات کاربر

        </h2>
        <ul class="nav navbar-right panel_toolbox">
            <li>
                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
            </li>

            <li>
                <a class="close-link"><i class="fa fa-close"></i></a>
            </li>
        </ul>
        <div class="clearfix"></div>
    </div>
    <div class="x_content">
        <form method="post" enctype="multipart/form-data">
            <input type="hidden" asp-for="User.UserId"/>
            <div class="row">
                <div class="col-md-6 col-sm-12 col-xs-12 form-group">

                    <div class="form-group has-feedback">
                        <input asp-for="User.FirstName" type="text" class="form-control has-feedback-left" required="" placeholder="نام">
                        <span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.FirstName" class="text-danger"></span>
                    </div>

                    <div class="form-group has-feedback">
                        <input asp-for="User.LastName" type="text" class="form-control has-feedback-left" required="" placeholder="نام خانوادگی">
                        <span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.LastName" class="text-danger"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input asp-for="User.UserName" type="text" class="form-control has-feedback-left" required="" placeholder="نام کاربری">
                        <span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.LastName" class="text-danger"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input asp-for="User.FatherName" type="text" class="form-control has-feedback-left" required="" placeholder="نام پدر">
                        <span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.FatherName" class="text-danger"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input asp-for="User.NationalCode" type="text" class="form-control has-feedback-left" required="" placeholder="کد ملی">
                        <span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.NationalCode" class="text-danger"></span>
                    </div>

                    <div class="form-group has-feedback">
                        <input asp-for="User.ShomareShenasnameh" type="text" class="form-control has-feedback-left" required="" placeholder="شماره شناسنامه">
                        <span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.ShomareShenasnameh" class="text-danger"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input asp-for="User.Password" type="password" class="form-control has-feedback-left" required="" placeholder="رمز عبور ">
                        <span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.Password" class="text-danger"></span>
                    </div>

                    <div class="form-group has-feedback">
                        <input asp-for="User.Mobile" type="text" class="form-control has-feedback-left" required="" placeholder="موبایل  ">
                        <span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.Mobile" class="text-danger"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input asp-for="User.Email" type="email" class="form-control has-feedback-left" required="" placeholder="ایمیل ">
                        <span class="fa fa-envelope form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.Email" class="text-danger"></span>
                    </div>
                </div>

                <div class="col-md-6 col-sm-12 col-xs-12 form-group">



                    <div class="form-group has-feedback">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                            استان
                            <span class="required">*</span>
                        </label>
                        <select asp-items="@(ViewData["province"] as SelectList)" class="form-control" asp-for="User.Province" id="OstanId"></select>

                        <span class="fa fa-info form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.Province" class="text-danger"></span>
                    </div>

                    <div class="form-group has-feedback">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                            شهر
                            <span class="required">*</span>
                        </label>
                        <select asp-items="@(ViewData["City"] as SelectList)" class="form-control" asp-for="User.City"></select>
                        <span class="fa fa-info form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.City" class="text-danger"></span>
                    </div>

                    <div class="form-group has-feedback">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                            محل صدور
                            <span class="required">*</span>
                        </label>
                        <select asp-items="@(ViewData["mahaleSodour"] as SelectList)" class="form-control" asp-for="User.MahaleSodour"></select>
                        <span class="fa fa-info form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.MahaleSodour" class="text-danger"></span>
                    </div>



                    <div class="form-group has-feedback">
                        <textarea asp-for="User.Address" type="text" class="form-control has-feedback-left" required="" placeholder="آدرس "></textarea>
                        @*<textarea id="textarea" required="required" placeholder="آدرس " name="textarea" class="form-control col-md-7 col-xs-12"></textarea>*@
                        <span class="fa fa-info form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.Address" class="text-danger"></span>
                    </div>
                    <div class="form-group has-feedback">
                        <input asp-for="User.PostalCode" type="text" class="form-control has-feedback-left" required="" placeholder="کدپستی">
                        <span class="fa fa-info form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.PostalCode" class="text-danger"></span>
                    </div>

                    <div class="form-group has-feedback">
                        <input asp-for="User.Tell" type="text" class="form-control has-feedback-left" required="" placeholder="تلفن ثابت">
                        <span class="fa fa-phone form-control-feedback left" aria-hidden="true"></span>
                        <span asp-validation-for="User.Tell" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label>انتخاب نقش کاربر</label>
                        @foreach (var item in Roles)
                        {
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" name="SelectedRoles" value="@item.RoleId">@item.RoleTitle
                                </label>
                            </div>
                        }

                    </div>

                    <div class="form-group has-feedback">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                            جنسیت
                            <span class="required"></span>
                        </label>

                        <div class="radio">
                            <label>
                                <input asp-for="User.Gender" type="radio" checked="" value="male" name="gendre"> مذکر
                            </label>
                            <label>
                                <input asp-for="User.Gender" type="radio" checked="" value="female" name="gendre"> مونث
                            </label>
                        </div>
                    </div>


                </div>
            </div>
            <div class="form-group">
                <div class="col-md-9 col-sm-9 col-xs-12 ">
                    <a asp-page="Index" class="btn btn-primary">انصراف</a>
                    <button type="submit" class="btn btn-success">ویرایش</button>
                </div>
            </div>
        </form>
    </div>
</div>


@section Scripts{

<script>
    $("#OstanId").change(function () {

        $("#User_City").empty();
        $.getJSON("/home/GetCityByOstanId/" + $("#OstanId :selected").val(),
            function (data) {
                $.each(data,
                    function () {
                        $("#User_City")
                            .append('<option value=' + this.value + '>' + this.text + '</option>');
                    });
            });
        $("#User_MahaleSodour").empty();
        $.getJSON("/home/GetCityByOstanId/" + $("#OstanId :selected").val(),
            function (data) {
                $.each(data,
                    function () {
                        $("#User_MahaleSodour")
                            .append('<option value=' + this.value + '>' + this.text + '</option>');
                    });
            });
    });
</script>

}

